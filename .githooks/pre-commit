#!/bin/bash

echo "ğŸ§¼ Running ktlint auto-format..."
./gradlew ktlintFormat

if [ $? -ne 0 ]; then
  echo "âŒ Ktlint formatting failed. Fix the issues and try again."
  exit 1
fi

echo "ğŸ” Running Detekt static analysis..."
./gradlew detekt

if [ $? -ne 0 ]; then
  echo "âŒ Detekt found issues. Please fix them before committing."
  exit 1
fi

echo "âœ… Code is clean! Proceeding with commit."
exit 0